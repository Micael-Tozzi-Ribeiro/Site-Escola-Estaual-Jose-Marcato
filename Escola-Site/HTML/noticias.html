<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>José Marcato - Eventos</title>
    <link rel="stylesheet" href="../CSS/noticia.css" />
    <!-- Font Awesome CDN para ícones sociais -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
    <!-- Google Fonts: Montserrat -->
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet" />

    <link rel="apple-touch-icon" sizes="180x180" href="../IMAGENS/logo.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../IMAGENS/logo.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../IMAGENS/logo.png">

    <style>
        /* Modal de imagem */
        .image-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(0, 0, 0, 0.85);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            padding: 20px;
            box-sizing: border-box;
        }

        .image-modal img {
            max-width: 90%;
            max-height: 90%;
            border-radius: 6px;
        }

        .image-modal .close-btn {
            position: absolute;
            top: 20px;
            right: 30px;
            font-size: 2rem;
            color: #fff;
            cursor: pointer;
        }

        /* Modal de vídeo */
        .video-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(0, 0, 0, 0.85);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .video-modal video {
            max-width: 90%;
            max-height: 90%;
            border-radius: 6px;
        }

        .video-modal .close-btn {
            position: absolute;
            top: 20px;
            right: 30px;
            font-size: 2rem;
            color: #fff;
            cursor: pointer;
        }
    </style>

</head>

<body>

    <!-- Faixa Superior com Logos -->
    <div class="top-bar">
        <div class="logo-container">
            <img src="../IMAGENS/logo.png" alt="Logo da Escola José Marcato">
        </div>
        <div class="logo-container">
            <img src="../IMAGENS/gov.png" alt="Logo Governo de São Paulo" />
        </div>
    </div>

    <!-- Contatos / Nome escola -->
    <div class="top-bar-name">
        <div class="school-name">
            <p>Escola Estadual José Marcato</p>
        </div>
    </div>

    <!-- Cabeçalho -->
    <header>
        <nav>
            <ul>
                <li><a href="../../index.html">Início</a></li>
                <li><a href="sobre.html">Sobre Nós</a></li>
                <li><a href="cursos.html">Cursos</a></li>
                <li><a href="noticias.html" class="ativo">Notícias</a></li>
                <li><a href="contato.html">Contato</a></li>
            </ul>
        </nav>
    </header>

    <div class="wrap">
        <h1>Galeria de eventos</h1>
        <p class="muted"> Veja as fotos dos eventos na nossa escola ⭐</p>

        <!-- Botões -->
        <div id="filters" class="filters" role="toolbar" aria-label="Filtros">

            <button class="pill" data-filter="tudo" aria-pressed="true">Tudo</button>
            <button class="pill" data-filter="escola" aria-pressed="false">Escola</button>
            <button class="pill" data-filter="palestras" aria-pressed="false">Palestras</button>
            <button class="pill" data-filter="campeonato" aria-pressed="false">Campeonatos</button>
            <button class="pill" data-filter="visita" aria-pressed="false">Visitas</button>

            <input type="text" class="buscar" placeholder="Buscar por título...">
            <button class="limpar">limpar</button>

            <select class="sort">
                <option value="az">A → Z</option>
                <option value="za">Z → A</option>
                <option value="fav">Favoritos primeiro</option>
            </select>

            <p class="text">Exibindo <span id="counter">0</span> itens!</p>

        </div>

        <!-- Galeria -->
        <main id="grid" class="grid" aria-live="polite">
            <!-- Palestra -->
            <article class="card" data-category="palestras">
                <img src="../IMAGENS/palestra-aluno.jpg" alt="Palestra" />
                <div class="meta"><strong>Palestra para alunos</strong><br><span class="muted">Palestras</span>
                </div>
            </article>

            <article class="card" data-category="visita">
                <!-- Imagem de capa do vídeo -->
                <img src="../IMAGENS/capa-uscs.jpg" alt="Vídeo da visita" class="video-cover"
                    data-video="../IMAGENS/uscs-ds.mp4">

                <div class="meta">
                    <strong>Visita Técnica - USCS - ADS</strong><br>
                    <span class="muted">Alunos de Análise e Desenvolvimento de Sistemas</span>
                </div>
            </article>

            <!-- Pessoas -->
            <article class="card" data-category="campeonato">
                <img src="../IMAGENS/omasp.jpg" alt="omasp" />
                <div class="meta"><strong>OMASP</strong><br><span class="muted">Campeonatos</span>
                </div>
            </article>

            <article class="card" data-category="campeonato">
                <img src="../IMAGENS/jej-jm.jpg" alt="Estudo e foco" />
                <div class="meta"><strong>Jogos escolares</strong><br><span class="muted">Campeonatos</span>
                </div>
            </article>

            <!-- Cidades -->
            <article class="card" data-category="escola">
                <img src="../IMAGENS/intervalo.jpg" alt="Noite na cidade" />
                <div class="meta"><strong>Intervalo Desconectado</strong><br><span class="muted">Escola</span>
                </div>
            </article>

            <article class="card" data-category="palestras">
                <img src="../IMAGENS/paletra-comunidade.jpg" alt="Arquitetura moderna" />
                <div class="meta"><strong>Interação com a comunidade</strong><br><span class="muted">Palestra</span>
                </div>
            </article>

            <!-- Animais -->
            <article class="card" data-category="escola">
                <img src="../IMAGENS/st-j.jpg" alt="Show de Talentos" />
                <div class="meta"><strong>Show de Talentos</strong><br><span class="muted">Escola</span>
                </div>
            </article>

            <article class="card" data-category="visita">
                <!-- Imagem de capa do vídeo -->
                <img src="https://images.unsplash.com/photo-1554224154-22dec7ec8818" alt="Vídeo da visita" class="video-cover"
                    data-video="../IMAGENS/uscs-adm.mp4">

                <div class="meta">
                    <strong>Visita Técnica - USCS - ADM</strong><br>
                    <span class="muted">Alunos de Administração</span>
                </div>
            </article>
        </main>
    </div>

    <!-- Rodapé -->
    <footer>
        <div class="footer-item">
            <h4>Contato</h4>
            <p>Telefone: (11) 4048-1353</p>
            <p>Email:  e915749a@educacao.sp.gov.br</p>
        </div>
        <div class="footer-item">
            <h4>Endereço</h4>
            <p>
                <a href="https://www.google.com/maps/search/?api=1&query=Rua+Visconde+de+Itaborai,+235,+Diadema,+SP"
                    target="_blank" class="map-link" aria-label="Abrir localização no Google Maps">
                    <i class="fas fa-map-marker-alt"></i> Rua Visconde de Itaborai, 235
                </a>
            </p>
            <p>Centro - Diadema</p>
            <p>CEP: 09910-520</p>
        </div>

        <div class="footer-item">
            <h4>Redes Sociais</h4>
            <div class="social-icons">
                <a href="https://www.facebook.com/groups/1447773665457822/" target="_blank" aria-label="Facebook">
                    <i class="fab fa-facebook-f"></i> Facebook
                </a>
                <a href="https://www.instagram.com/eejosemarcato/?hl=en" target="_blank" aria-label="Instagram">
                    <i class="fab fa-instagram"></i> Instagram
                </a>
                <a href="https://wa.me/551140481353?text=Olá,+gostaria+de+mais+informações+sobre+a+escola."
                    target="_blank" aria-label="WhatsApp">
                    <i class="fab fa-whatsapp"></i> WhatsApp
                </a>
                <a href="https://www.linkedin.com/feed/" target="_blank" aria-label="LinkedIn">
                    <i class="fab fa-linkedin-in"></i> LinkedIn
                </a>
            </div>
        </div>

        <div class="copyright">
            &copy; 2025 Escola Estadual José Marcato - Todos os direitos reservados
        </div>
    </footer>

</body>
<script>
    (() => {
        // Elementos principais
        const filterButtons = Array.from(document.querySelectorAll('#filters .pill'));
        const searchInput = document.querySelector('.buscar');
        const sortSelect = document.querySelector('.sort');
        const clearButton = document.querySelector('.limpar');
        const grid = document.getElementById('grid');
        const counter = document.getElementById('counter');
        const collator = new Intl.Collator('pt-BR', { sensitivity: 'base' });

        let cards = Array.from(document.querySelectorAll('.card'));

        // Retorna o filtro ativo
        function getActiveFilter() {
            const active = filterButtons.find(btn => btn.getAttribute('aria-pressed') === 'true');
            return active ? active.dataset.filter : 'tudo';
        }

        // Atualiza galeria
        function updateGallery() {
            const activeFilter = getActiveFilter();
            const q = searchInput.value.trim().toLowerCase();
            const sortVal = sortSelect.value;

            // Filtrar
            let filtered = cards.filter(card => {
                const title = (card.querySelector('strong')?.textContent || '').toLowerCase();
                const category = card.dataset.category;
                const matchesFilter = activeFilter === 'tudo' || category === activeFilter;
                const matchesSearch = !q || title.includes(q);
                return matchesFilter && matchesSearch;
            });

            // Ordenar
            filtered.sort((a, b) => {
                const titleA = (a.querySelector('strong')?.textContent || '');
                const titleB = (b.querySelector('strong')?.textContent || '');
                if (sortVal === 'az') return collator.compare(titleA, titleB);
                if (sortVal === 'za') return collator.compare(titleB, titleA);
                return 0;
            });

            // Mostrar / ocultar
            cards.forEach(card => card.style.display = 'none');
            filtered.forEach(card => {
                card.style.display = '';
                grid.appendChild(card); // mantém ordem
            });

            // Atualiza contador
            counter.textContent = String(filtered.length);
        }

        // Clique nos filtros (só um ativo por vez)
        filterButtons.forEach(btn => {
            btn.addEventListener('click', () => {
                filterButtons.forEach(b => {
                    b.classList.remove('active');
                    b.setAttribute('aria-pressed', 'false');
                });
                btn.classList.add('active');
                btn.setAttribute('aria-pressed', 'true');
                updateGallery();
            });
        });

        // Busca e ordenação
        searchInput.addEventListener('input', updateGallery);
        sortSelect.addEventListener('change', updateGallery);

        // Limpar tudo
        clearButton.addEventListener('click', () => {
            // Volta para "tudo"
            filterButtons.forEach(b => {
                b.classList.remove('active');
                b.setAttribute('aria-pressed', 'false');
            });
            const allBtn = document.querySelector('.pill[data-filter="tudo"]');
            if (allBtn) {
                allBtn.classList.add('active');
                allBtn.setAttribute('aria-pressed', 'true');
            }

            // Limpa busca e ordenação
            searchInput.value = '';
            sortSelect.value = 'az';

            updateGallery();
        });

        // Inicializa com "tudo"
        const allBtn = document.querySelector('.pill[data-filter="tudo"]');
        if (allBtn) {
            allBtn.classList.add('active');
            allBtn.setAttribute('aria-pressed', 'true');
        }
        updateGallery();

        // ===== Modal de vídeo =====
        const videoCovers = document.querySelectorAll('.video-cover');
        videoCovers.forEach(cover => {
            cover.addEventListener('click', () => {
                const videoSrc = cover.dataset.video;
                if (!videoSrc) return;

                const modal = document.createElement('div');
                modal.classList.add('video-modal');
                modal.innerHTML = `
                <span class="close-btn">&times;</span>
                <video src="${videoSrc}" controls autoplay></video>
            `;
                document.body.appendChild(modal);

                modal.querySelector('.close-btn').addEventListener('click', () => {
                    modal.remove();
                });

                modal.addEventListener('click', e => {
                    if (e.target === modal) modal.remove();
                });
            });
        });

        // ===== Modal de imagem =====
        const images = document.querySelectorAll('.card img:not(.video-cover)');
        const imgModal = document.createElement('div');
        imgModal.classList.add('image-modal');
        imgModal.innerHTML = `<span class="close-btn">&times;</span><img src="" alt="Imagem Ampliada">`;
        document.body.appendChild(imgModal);

        const modalImg = imgModal.querySelector('img');
        const closeImgBtn = imgModal.querySelector('.close-btn');

        images.forEach(img => {
            img.addEventListener('click', () => {
                modalImg.src = img.src;
                imgModal.style.display = 'flex';
            });
        });

        closeImgBtn.addEventListener('click', () => {
            imgModal.style.display = 'none';
            modalImg.src = '';
        });

        imgModal.addEventListener('click', e => {
            if (e.target === imgModal) {
                imgModal.style.display = 'none';
                modalImg.src = '';
            }
        });

    })();
</script>

</html>